package fr.adaming.testc;

import java.util.ArrayList;
import java.util.List;

import javax.el.ListELResolver;

import fr.adaming.model.LigneCommande;
import fr.adaming.model.Panier;
import fr.adaming.model.Produit;
import fr.adaming.service.IPanierService;
import fr.adaming.service.PanierServiceImpl;

public class Classtest {

	public static void main(String[] args) {

		Panier p1=new Panier();
		Produit pr1=new Produit("p1", "p1", 1, 111, true, null, null);
		pr1.setId(1);
		Produit pr2=new Produit("p2", "p2", 22.2, 22, true, null, null);
		pr2.setId(2);
		Produit pr3=new Produit("p3", "p3", 13.4, 43, true, null, null);
		pr3.setId(3);
		
		
		LigneCommande li1=new LigneCommande(1, 1);
		li1.setProduit(pr1);
		
		LigneCommande li2=new LigneCommande(2, 44.4);
		li2.setProduit(pr2);
		
		List<LigneCommande> listelignes =new ArrayList<>();
		listelignes.add(li1);
		listelignes.add(li2);
		p1.setListeLignes(listelignes);
		
		for (LigneCommande ligneCommande : p1.getListeLignes()) {
			System.out.println("qt:"+ligneCommande.getQt()+"/prix:"+ligneCommande.getPrix()+"/produit:"+ligneCommande.getProduit().getDescription());
		}
		
		System.out.println("test services: add");
		IPanierService pservice=new PanierServiceImpl();
		p1=pservice.addProd(p1, pr1);
		p1=pservice.addProd(p1, pr2);
		p1=pservice.addProd(p1, pr3);
		for (LigneCommande ligneCommande : p1.getListeLignes()) {
			System.out.println("qt:"+ligneCommande.getQt()+"/prix:"+ligneCommande.getPrix()+"/produit:"+ligneCommande.getProduit().getDescription());
		}
		
		System.out.println("test services: del");
		p1=pservice.delProd(p1, pr1);
		for (LigneCommande ligneCommande : p1.getListeLignes()) {
			System.out.println("qt:"+ligneCommande.getQt()+"/prix:"+ligneCommande.getPrix()+"/produit:"+ligneCommande.getProduit().getDescription());
		}

	}

}
